<!DOCTYPE html>
<html lang="en">
<head>
    <%- include("./head.ejs"); %>
    <title>CutUrls | Home</title>
    <meta property="og:title" content="CutUrls | Home" />
    <link rel="stylesheet" id="css" href="/static/css/home/<%- cssHome %>.css">
</head>
<body>
    <div id="container">
        <%- include("./nav.ejs", {user: "<a id='loginBtn' href='/login'>Log in</a>"}); %>
        <div id="content">
            <form id="urlInputForm">
                <h2 style="margin:0 20px;margin-bottom:50px;font-size:25px;">Enter your long URL and I will cut it short.</h2>
                <div id="urlInput-Container">
                    
                    <input type="text" id="urlInput" placeholder="https://youtu.be/d0tGBCCE0lc">

                    <button id="urlInput-button">
                        <svg viewBox="0 0 448 448" height="20px">
                            <g>
                                <g>
                                    <polygon points="0.213,32 0,181.333 320,224 0,266.667 0.213,416 448,224"></polygon>
                                </g>
                            </g>
                        </svg>
                    </button>
                </div>
                <div id="more-options-container">
                    <div id="more-options">
                        <span>
                            <input type="checkbox" id="memorable-id" onclick="memorableIdCheckBox(this)">
                            <label for="memorable-id">Memorable address</label>
                            
                            <span tooltip="Generates memorable address like: sweet-turtle-33" style="--tooltip-width:135px;">
                            <svg width="12px" height="12px" viewBox="0 0 45.999 45.999">
                                <g>
                                    <g>
                                        <path d="M39.264,6.736c-8.982-8.981-23.545-8.982-32.528,0c-8.982,8.982-8.981,23.545,0,32.528c8.982,8.98,23.545,8.981,32.528,0
                            			C48.245,30.281,48.244,15.719,39.264,6.736z M25.999,33c0,1.657-1.343,3-3,3s-3-1.343-3-3V21c0-1.657,1.343-3,3-3s3,1.343,3,3V33z
                            			 M22.946,15.872c-1.728,0-2.88-1.224-2.844-2.735c-0.036-1.584,1.116-2.771,2.879-2.771c1.764,0,2.88,1.188,2.917,2.771
                            			C25.897,14.648,24.746,15.872,22.946,15.872z" />
                                    </g>
                                </g>
                            </svg>
                            </span>
                        </span>
                        <div id="options-container">
                            <span class="options" id="options-customID">
                                <label for="customID-input">Custom address:</label>
                                <input type="text" id="customID-input"placeholder="funny_video">
                            </span>
                            <span class="options" id="options-password">
                                <label for="url-password">Password:</label>
                                <input type="text" id="url-password" placeholder="Password">
                            </span>
                            <span class="options" id="options-expire">
                                <label for="url-expires">Expire in:
                                <span tooltip="Must be separated with comma. You can use days, hours, minutes & seconds." style="--tooltip-width:145px;">
                                    <svg width="12px" height="12px" viewBox="0 0 45.999 45.999">
                                        <g>
                                            <g>
                                                <path d="M39.264,6.736c-8.982-8.981-23.545-8.982-32.528,0c-8.982,8.982-8.981,23.545,0,32.528c8.982,8.98,23.545,8.981,32.528,0
                                                C48.245,30.281,48.244,15.719,39.264,6.736z M25.999,33c0,1.657-1.343,3-3,3s-3-1.343-3-3V21c0-1.657,1.343-3,3-3s3,1.343,3,3V33z
                                                M22.946,15.872c-1.728,0-2.88-1.224-2.844-2.735c-0.036-1.584,1.116-2.771,2.879-2.771c1.764,0,2.88,1.188,2.917,2.771
                                                C25.897,14.648,24.746,15.872,22.946,15.872z" />
                                            </g>
                                        </g>
                                    </svg>
                                </span>

                                </label>
                                <input type="text" id="url-expires" placeholder="3 days, 5 hours, 5 minutes">
                            </span>                            
                            <span class="options" id="options-description">
                                <label for="url-description">Description:</label>
                                <input type="text" id="url-description" placeholder="Description">
                            </span>

                        </div>
                    </div>
                    <button id="more-options-btn" onclick="moreOptions()" type="button">
                        <svg width="40px"viewBox="0 0 131.27 131.27">
                            <g>
                                <g>
                                    <path
                                        d="M65.636,110.839L0.609,25.22c-0.996-1.313-0.746-3.18,0.573-4.177    c1.313-1.002,3.18-0.746,4.177,0.573l60.277,79.359l60.277-79.359c0.996-1.319,2.864-1.575,4.177-0.573    c1.313,0.996,1.569,2.864,0.573,4.177L65.636,110.839z" />
                                </g>
                            </g>
                        </svg>
                    </button>
                </div>
            </form>
            <noscript>
                <h1>JavaScript is required for this website to work.</h1>
                <p>JavaScript is used to send/fetch requests to store/show data.</p>
            </noscript>
            
        </div>
    </div>
    <script>
        let mediaQueryMatch = window.matchMedia("(min-width:634px)");
        const changeHeight = (mediaQueryMatch) => {
            if (mediaQueryMatch.matches) {
                console.log("matched")
                document.getElementById("more-options").style.height = "245px";
            }
            else document.getElementById("more-options").style.height = "360px";
        }
        const moreOptions = () => {
            if (document.querySelector("#more-options-btn > svg").style.transform == "rotate(180deg)") {
                document.querySelector("#more-options-btn > svg").style.transform = "rotate(0deg)";
                document.getElementById("more-options").style.height =  '0';
                mediaQueryMatch.removeEventListener("change", changeHeight);
            }
            else {
                changeHeight(mediaQueryMatch);
                mediaQueryMatch.addEventListener("change", changeHeight);
                document.querySelector("#more-options-btn > svg").style.transform = "rotate(180deg)";
            }

        }
        const memorableIdCheckBox = (e) => {
            const customIDInputEl = document.getElementById("customID-input");
            if(e.checked) {
                customIDInputEl.readOnly = true;
                customIDInputEl.classList.add("placeholder-blocked");
            }
            else {
                customIDInputEl.readOnly = false;
                customIDInputEl.classList.remove("placeholder-blocked");
            }
        }
        
    </script>
</body>
</html>
